<!DOCTYPE html>
<html lang="zh-CN">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>å†…è”ç¼–è¾‘åŸå‹ - react-easy-edit æ•ˆæœæ¨¡æ‹Ÿ</title>
    <style>
        * {
            box-sizing: border-box;
            margin: 0;
            padding: 0;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            background: linear-gradient(135deg, #f1f5f9 0%, #e2e8f0 100%);
            min-height: 100vh;
            padding: 24px;
        }

        .container {
            max-width: 380px;
            margin: 0 auto;
        }

        .title {
            font-size: 16px;
            font-weight: 900;
            color: #1e293b;
            margin-bottom: 16px;
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .card {
            background: white;
            border-radius: 16px;
            padding: 16px;
            box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -2px rgba(0, 0, 0, 0.1);
            border: 1px solid #e2e8f0;
        }

        .card-header {
            display: flex;
            align-items: center;
            justify-content: space-between;
            margin-bottom: 12px;
            padding-bottom: 12px;
            border-bottom: 1px solid #f1f5f9;
        }

        .card-title {
            font-size: 13px;
            font-weight: 800;
            color: #334155;
            display: flex;
            align-items: center;
            gap: 6px;
        }

        .point-item {
            background: #f8fafc;
            border: 1px solid #e2e8f0;
            border-radius: 12px;
            padding: 12px;
            margin-bottom: 10px;
            transition: all 0.2s;
        }

        .point-item:hover {
            border-color: #a5b4fc;
        }

        .point-header {
            display: flex;
            align-items: center;
            justify-content: space-between;
            margin-bottom: 8px;
        }

        .point-name {
            font-size: 12px;
            font-weight: 700;
            color: #334155;
            cursor: pointer;
            padding: 2px 4px;
            border-radius: 4px;
            transition: all 0.15s;
        }

        .point-name:hover {
            background: #e0e7ff;
            color: #4f46e5;
        }

        .point-name.editing {
            background: white;
            border: 1px solid #a5b4fc;
            outline: none;
        }

        .point-score {
            font-size: 10px;
            font-weight: 700;
            padding: 2px 8px;
            border-radius: 999px;
        }

        .score-full {
            background: #d1fae5;
            color: #047857;
        }

        .score-partial {
            background: #fef3c7;
            color: #b45309;
        }

        .keywords {
            display: flex;
            flex-wrap: wrap;
            gap: 4px;
            margin-top: 8px;
        }

        .keyword {
            display: inline-flex;
            align-items: center;
            gap: 4px;
            font-size: 10px;
            color: #64748b;
            background: white;
            border: 1px solid #e2e8f0;
            padding: 2px 8px;
            border-radius: 999px;
        }

        .keyword .delete-btn {
            opacity: 0;
            cursor: pointer;
            color: #94a3b8;
            transition: all 0.15s;
        }

        .keyword:hover .delete-btn {
            opacity: 1;
        }

        .keyword .delete-btn:hover {
            color: #ef4444;
        }

        .add-keyword {
            display: inline-flex;
            align-items: center;
            gap: 2px;
            font-size: 10px;
            color: #6366f1;
            background: #eef2ff;
            border: 1px dashed #a5b4fc;
            padding: 2px 8px;
            border-radius: 999px;
            cursor: pointer;
            transition: all 0.15s;
        }

        .add-keyword:hover {
            background: #e0e7ff;
        }

        .inline-input {
            font-size: 10px;
            border: 1px solid #a5b4fc;
            border-radius: 999px;
            padding: 2px 8px;
            outline: none;
            width: 80px;
        }

        .edit-actions {
            display: inline-flex;
            align-items: center;
            gap: 2px;
            margin-left: 4px;
        }

        .edit-btn {
            width: 18px;
            height: 18px;
            border: none;
            border-radius: 4px;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 10px;
        }

        .save-btn {
            background: #d1fae5;
            color: #047857;
        }

        .cancel-btn {
            background: #f1f5f9;
            color: #64748b;
        }

        .footer {
            display: flex;
            align-items: center;
            justify-content: space-between;
            margin-top: 16px;
            padding-top: 16px;
            border-top: 1px solid #f1f5f9;
        }

        .hint {
            font-size: 10px;
            color: #94a3b8;
        }

        .submit-btn {
            font-size: 12px;
            font-weight: 700;
            color: white;
            background: linear-gradient(135deg, #6366f1 0%, #8b5cf6 100%);
            border: none;
            padding: 8px 16px;
            border-radius: 10px;
            cursor: pointer;
            box-shadow: 0 4px 14px -3px rgba(99, 102, 241, 0.4);
            transition: all 0.2s;
        }

        .submit-btn:hover {
            transform: translateY(-1px);
            box-shadow: 0 6px 20px -3px rgba(99, 102, 241, 0.5);
        }

        .notice {
            background: #fef3c7;
            border: 1px solid #fcd34d;
            border-radius: 12px;
            padding: 12px;
            margin-top: 16px;
        }

        .notice-title {
            font-size: 11px;
            font-weight: 700;
            color: #b45309;
            margin-bottom: 4px;
        }

        .notice-text {
            font-size: 10px;
            color: #92400e;
            line-height: 1.5;
        }

        .width-indicator {
            text-align: center;
            font-size: 10px;
            color: #94a3b8;
            margin-top: 16px;
            padding: 8px;
            background: rgba(255, 255, 255, 0.5);
            border-radius: 8px;
        }
    </style>
</head>

<body>
    <div class="container">
        <h1 class="title">
            âœ¨ å†…è”ç¼–è¾‘åŸå‹æ¼”ç¤º
        </h1>

        <div class="card">
            <div class="card-header">
                <span class="card-title">
                    âœï¸ å¿«æ·ç»†åˆ™è°ƒæ•´
                </span>
                <span style="font-size:10px;color:#94a3b8;">æ¨¡æ‹Ÿ react-easy-edit</span>
            </div>

            <!-- å¾—åˆ†ç‚¹ 1 -->
            <div class="point-item">
                <div class="point-header">
                    <span class="point-name"
                        onclick="this.contentEditable=true;this.focus();this.classList.add('editing');"
                        onblur="this.contentEditable=false;this.classList.remove('editing');">ç»æµåŠ¨å› åˆ†æ</span>
                    <span class="point-score score-full">4/4</span>
                </div>
                <div class="keywords">
                    <span class="keyword">èµ„æœ¬ä¸»ä¹‰èŒèŠ½ <span class="delete-btn">âœ•</span></span>
                    <span class="keyword">å•†å“ç»æµ <span class="delete-btn">âœ•</span></span>
                    <span class="add-keyword" onclick="showAddInput(this)">ï¼‹ æ·»åŠ </span>
                </div>
            </div>

            <!-- å¾—åˆ†ç‚¹ 2 (éœ€è¦è°ƒæ•´) -->
            <div class="point-item" style="border-color:#fcd34d;">
                <div class="point-header">
                    <span class="point-name"
                        onclick="this.contentEditable=true;this.focus();this.classList.add('editing');"
                        onblur="this.contentEditable=false;this.classList.remove('editing');">ç¤¾ä¼šé˜¶å±‚å˜åŠ¨</span>
                    <span class="point-score score-partial">2/4</span>
                </div>
                <div class="keywords">
                    <span class="keyword">èµ„äº§é˜¶çº§å…´èµ· <span class="delete-btn">âœ•</span></span>
                    <span class="add-keyword" onclick="showAddInput(this)">ï¼‹ æ·»åŠ </span>
                </div>
                <div
                    style="margin-top:8px;padding:8px;background:#fefce8;border-radius:8px;font-size:10px;color:#a16207;">
                    ğŸ’¡ å»ºè®®æ·»åŠ å…³é”®è¯ï¼š<strong>å°å»ºè´µæ—è¡°è½</strong>
                </div>
            </div>

            <!-- å¾—åˆ†ç‚¹ 3 -->
            <div class="point-item">
                <div class="point-header">
                    <span class="point-name"
                        onclick="this.contentEditable=true;this.focus();this.classList.add('editing');"
                        onblur="this.contentEditable=false;this.classList.remove('editing');">å·é¢è¡¨è¾¾è§„èŒƒ</span>
                    <span class="point-score score-full">2/2</span>
                </div>
                <div class="keywords">
                    <span class="keyword">ä¹¦å†™å·¥æ•´ <span class="delete-btn">âœ•</span></span>
                    <span class="keyword">æ¡ç†æ¸…æ™° <span class="delete-btn">âœ•</span></span>
                    <span class="add-keyword" onclick="showAddInput(this)">ï¼‹ æ·»åŠ </span>
                </div>
            </div>

            <div class="footer">
                <span class="hint">ğŸ’¡ ç‚¹å‡»æ–‡å­—å³å¯ç¼–è¾‘</span>
                <button class="submit-btn" onclick="alert('ä¿®æ”¹å·²ä¿å­˜ï¼')">ä¿å­˜ä¿®æ”¹</button>
            </div>
        </div>

        <div class="notice">
            <div class="notice-title">âš ï¸ ç©ºé—´æ¨¡æ‹Ÿè¯´æ˜</div>
            <div class="notice-text">
                å½“å‰å®¹å™¨å®½åº¦ 380pxï¼Œæ¥è¿‘ Chrome Side Panel å®é™…å®½åº¦ (~400px)ã€‚<br>
                æ­¤åŸå‹æ¨¡æ‹Ÿ react-easy-edit çš„äº¤äº’æ•ˆæœã€‚
            </div>
        </div>

        <div class="width-indicator">
            å®¹å™¨å®½åº¦: 380pxï¼ˆæ¨¡æ‹Ÿ Side Panelï¼‰
        </div>
    </div>

    <script>
        function showAddInput(el) {
            const input = document.createElement('input');
            input.type = 'text';
            input.className = 'inline-input';
            input.placeholder = 'æ–°å…³é”®è¯...';

            const actions = document.createElement('span');
            actions.className = 'edit-actions';
            actions.innerHTML = '<button class="edit-btn save-btn">âœ“</button><button class="edit-btn cancel-btn">âœ•</button>';

            const wrapper = document.createElement('span');
            wrapper.appendChild(input);
            wrapper.appendChild(actions);

            el.replaceWith(wrapper);
            input.focus();

            actions.querySelector('.save-btn').onclick = function () {
                if (input.value.trim()) {
                    const keyword = document.createElement('span');
                    keyword.className = 'keyword';
                    keyword.innerHTML = input.value.trim() + ' <span class="delete-btn">âœ•</span>';
                    wrapper.replaceWith(keyword);

                    // é‡æ–°æ·»åŠ  "æ·»åŠ " æŒ‰é’®
                    const addBtn = document.createElement('span');
                    addBtn.className = 'add-keyword';
                    addBtn.innerHTML = 'ï¼‹ æ·»åŠ ';
                    addBtn.onclick = function () { showAddInput(this); };
                    keyword.after(addBtn);
                } else {
                    restoreAddButton(wrapper);
                }
            };

            actions.querySelector('.cancel-btn').onclick = function () {
                restoreAddButton(wrapper);
            };

            input.onkeydown = function (e) {
                if (e.key === 'Enter') actions.querySelector('.save-btn').click();
                if (e.key === 'Escape') actions.querySelector('.cancel-btn').click();
            };
        }

        function restoreAddButton(wrapper) {
            const addBtn = document.createElement('span');
            addBtn.className = 'add-keyword';
            addBtn.innerHTML = 'ï¼‹ æ·»åŠ ';
            addBtn.onclick = function () { showAddInput(this); };
            wrapper.replaceWith(addBtn);
        }
    </script>
</body>

</html>