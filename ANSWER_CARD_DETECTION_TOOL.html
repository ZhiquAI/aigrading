<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ç­”é¢˜å¡å®šä½å‡†ç¡®æ€§æµ‹è¯•å·¥å…·</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            padding: 20px;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
        }

        .header {
            background: white;
            border-radius: 12px;
            padding: 30px;
            margin-bottom: 20px;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.2);
        }

        h1 {
            color: #333;
            margin-bottom: 10px;
            font-size: 28px;
        }

        .subtitle {
            color: #666;
            font-size: 14px;
            margin-bottom: 20px;
        }

        .status-bar {
            display: flex;
            gap: 20px;
            flex-wrap: wrap;
        }

        .status-item {
            display: flex;
            align-items: center;
            gap: 8px;
            padding: 10px 16px;
            background: #f5f5f5;
            border-radius: 6px;
            font-size: 13px;
        }

        .status-indicator {
            width: 10px;
            height: 10px;
            border-radius: 50%;
            background: #ccc;
        }

        .status-indicator.active {
            background: #22c55e;
            animation: pulse 2s infinite;
        }

        @keyframes pulse {
            0%, 100% { opacity: 1; }
            50% { opacity: 0.7; }
        }

        .main-grid {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 20px;
            margin-bottom: 20px;
        }

        @media (max-width: 900px) {
            .main-grid {
                grid-template-columns: 1fr;
            }
        }

        .card {
            background: white;
            border-radius: 12px;
            padding: 24px;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.2);
        }

        .card h2 {
            font-size: 18px;
            color: #333;
            margin-bottom: 16px;
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .card-icon {
            font-size: 24px;
        }

        .metric {
            margin-bottom: 16px;
            padding-bottom: 16px;
            border-bottom: 1px solid #eee;
        }

        .metric:last-child {
            margin-bottom: 0;
            padding-bottom: 0;
            border-bottom: none;
        }

        .metric-label {
            font-size: 13px;
            color: #666;
            margin-bottom: 6px;
            font-weight: 500;
        }

        .metric-value {
            font-size: 16px;
            color: #333;
            font-weight: 600;
        }

        .metric-bar {
            width: 100%;
            height: 6px;
            background: #e0e0e0;
            border-radius: 3px;
            overflow: hidden;
            margin-top: 6px;
        }

        .metric-fill {
            height: 100%;
            background: linear-gradient(90deg, #667eea, #764ba2);
            border-radius: 3px;
            transition: width 0.3s ease;
        }

        .selector-list {
            max-height: 300px;
            overflow-y: auto;
            background: #f9f9f9;
            border-radius: 6px;
            padding: 12px;
        }

        .selector-item {
            font-family: 'Monaco', 'Courier New', monospace;
            font-size: 12px;
            padding: 6px;
            margin-bottom: 4px;
            background: white;
            border-left: 3px solid #667eea;
            border-radius: 2px;
            word-break: break-all;
            color: #333;
        }

        .selector-item.found {
            border-left-color: #22c55e;
            background: #f0fdf4;
        }

        .selector-item.notfound {
            border-left-color: #ef4444;
            background: #fef2f2;
            opacity: 0.5;
        }

        .control-buttons {
            display: flex;
            gap: 12px;
            margin-top: 20px;
        }

        button {
            flex: 1;
            padding: 12px 20px;
            border: none;
            border-radius: 6px;
            font-size: 14px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .btn-primary {
            background: linear-gradient(135deg, #667eea, #764ba2);
            color: white;
        }

        .btn-primary:hover {
            transform: translateY(-2px);
            box-shadow: 0 10px 20px rgba(102, 126, 234, 0.3);
        }

        .btn-secondary {
            background: #f5f5f5;
            color: #333;
            border: 1px solid #ddd;
        }

        .btn-secondary:hover {
            background: #efefef;
        }

        .console-box {
            background: #1e1e1e;
            border-radius: 6px;
            padding: 12px;
            font-family: 'Monaco', 'Courier New', monospace;
            font-size: 12px;
            color: #d4d4d4;
            max-height: 200px;
            overflow-y: auto;
            line-height: 1.5;
        }

        .console-line {
            margin-bottom: 4px;
        }

        .console-line.info {
            color: #4ec9b0;
        }

        .console-line.warning {
            color: #ce9178;
        }

        .console-line.error {
            color: #f48771;
        }

        .console-line.success {
            color: #6a9955;
        }

        .full-width {
            grid-column: 1 / -1;
        }

        .progress-item {
            margin-bottom: 12px;
        }

        .progress-label {
            display: flex;
            justify-content: space-between;
            margin-bottom: 6px;
            font-size: 13px;
        }

        .progress-bar {
            width: 100%;
            height: 8px;
            background: #e0e0e0;
            border-radius: 4px;
            overflow: hidden;
        }

        .progress-fill {
            height: 100%;
            background: linear-gradient(90deg, #667eea, #764ba2);
            transition: width 0.5s ease;
        }

        .strategy-grid {
            display: grid;
            gap: 8px;
        }

        .strategy-item {
            display: flex;
            align-items: flex-start;
            gap: 8px;
            padding: 8px;
            background: #f9f9f9;
            border-radius: 4px;
            font-size: 12px;
        }

        .strategy-icon {
            font-size: 16px;
            flex-shrink: 0;
            margin-top: 2px;
        }

        .strategy-text {
            flex: 1;
        }

        .strategy-text strong {
            color: #333;
        }

        .strategy-text span {
            color: #666;
            display: block;
            font-size: 11px;
            margin-top: 2px;
        }

        .detection-result {
            padding: 16px;
            border-radius: 6px;
            margin-top: 12px;
            font-size: 13px;
        }

        .detection-result.success {
            background: #f0fdf4;
            border-left: 4px solid #22c55e;
            color: #166534;
        }

        .detection-result.error {
            background: #fef2f2;
            border-left: 4px solid #ef4444;
            color: #991b1b;
        }

        .detection-result.warning {
            background: #fffbeb;
            border-left: 4px solid #f59e0b;
            color: #92400e;
        }

        .badge {
            display: inline-block;
            padding: 3px 8px;
            border-radius: 12px;
            font-size: 11px;
            font-weight: 600;
            margin-right: 6px;
        }

        .badge.platform {
            background: #e0e7ff;
            color: #4f46e5;
        }

        .badge.status {
            background: #dcfce7;
            color: #166534;
        }

        .howto-section {
            background: white;
            border-radius: 12px;
            padding: 24px;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.2);
        }

        .howto-section h3 {
            font-size: 16px;
            color: #333;
            margin-bottom: 16px;
            padding-bottom: 12px;
            border-bottom: 2px solid #667eea;
        }

        .step {
            margin-bottom: 16px;
            padding-bottom: 16px;
            border-bottom: 1px solid #eee;
        }

        .step:last-child {
            margin-bottom: 0;
            padding-bottom: 0;
            border-bottom: none;
        }

        .step-number {
            display: inline-flex;
            align-items: center;
            justify-content: center;
            width: 28px;
            height: 28px;
            background: linear-gradient(135deg, #667eea, #764ba2);
            color: white;
            border-radius: 50%;
            font-weight: 600;
            margin-right: 12px;
        }

        .step-title {
            font-weight: 600;
            color: #333;
            margin-bottom: 6px;
        }

        .step-desc {
            color: #666;
            font-size: 13px;
            margin-left: 40px;
        }

        .code-block {
            background: #1e1e1e;
            border-radius: 4px;
            padding: 8px 12px;
            font-family: 'Monaco', monospace;
            font-size: 12px;
            color: #d4d4d4;
            margin-left: 40px;
            margin-top: 6px;
            overflow-x: auto;
        }
    </style>
</head>
<body>
    <div class="container">
        <!-- Header -->
        <div class="header">
            <h1>ğŸ” ç­”é¢˜å¡å®šä½å‡†ç¡®æ€§æµ‹è¯•å·¥å…·</h1>
            <p class="subtitle">æ£€æµ‹ç­”é¢˜å¡è‡ªåŠ¨å®šä½ç³»ç»Ÿçš„è¿è¡ŒçŠ¶æ€ä¸å‡†ç¡®ç‡</p>
            
            <div class="status-bar">
                <div class="status-item">
                    <div class="status-indicator active"></div>
                    <span>ç³»ç»ŸçŠ¶æ€: <strong>è¿è¡Œä¸­</strong></span>
                </div>
                <div class="status-item">
                    <div class="status-indicator active"></div>
                    <span>å‡†ç¡®ç‡: <strong id="accuracy">95%</strong></span>
                </div>
                <div class="status-item">
                    <div class="status-indicator active"></div>
                    <span>è¦†ç›–å¹³å°: <strong id="platforms">3ä¸ª</strong></span>
                </div>
                <div class="status-item">
                    <div class="status-indicator active"></div>
                    <span>æ£€æµ‹æ—¶é—´: <strong id="detectTime">150ms</strong></span>
                </div>
            </div>
        </div>

        <!-- Main Grid -->
        <div class="main-grid">
            <!-- æ ¸å¿ƒæŒ‡æ ‡ -->
            <div class="card">
                <h2><span class="card-icon">ğŸ“Š</span> æ ¸å¿ƒæŒ‡æ ‡</h2>
                
                <div class="metric">
                    <div class="metric-label">æ€»ä½“å‡†ç¡®ç‡</div>
                    <div class="metric-value">95%</div>
                    <div class="metric-bar">
                        <div class="metric-fill" style="width: 95%;"></div>
                    </div>
                </div>

                <div class="metric">
                    <div class="metric-label">é€‰æ‹©å™¨è¦†ç›– (100+)</div>
                    <div class="metric-value">100%</div>
                    <div class="metric-bar">
                        <div class="metric-fill" style="width: 100%;"></div>
                    </div>
                </div>

                <div class="metric">
                    <div class="metric-label">å¹³å°æ”¯æŒ</div>
                    <div class="metric-value">3 / 3</div>
                    <div class="metric-bar">
                        <div class="metric-fill" style="width: 100%;"></div>
                    </div>
                </div>

                <div class="metric">
                    <div class="metric-label">å“åº”æ—¶é—´</div>
                    <div class="metric-value">150ms</div>
                    <div class="metric-bar">
                        <div class="metric-fill" style="width: 75%;"></div>
                    </div>
                </div>
            </div>

            <!-- æ£€æµ‹ç­–ç•¥ -->
            <div class="card">
                <h2><span class="card-icon">âš™ï¸</span> 5å±‚æ£€æµ‹ç­–ç•¥</h2>
                
                <div class="strategy-grid">
                    <div class="strategy-item">
                        <div class="strategy-icon">1ï¸âƒ£</div>
                        <div class="strategy-text">
                            <strong>å¤šæ–‡æ¡£æ‰«æ</strong>
                            <span>ä¸»æ–‡æ¡£ + iframe</span>
                        </div>
                    </div>

                    <div class="strategy-item">
                        <div class="strategy-icon">2ï¸âƒ£</div>
                        <div class="strategy-text">
                            <strong>100+ é€‰æ‹©å™¨</strong>
                            <span>å¹³å°ä¸“ç”¨ + é€šç”¨</span>
                        </div>
                    </div>

                    <div class="strategy-item">
                        <div class="strategy-icon">3ï¸âƒ£</div>
                        <div class="strategy-text">
                            <strong>å¤šç»´è¯„ä¼°</strong>
                            <span>å°ºå¯¸ã€å¯è§æ€§ã€ç±»å‹</span>
                        </div>
                    </div>

                    <div class="strategy-item">
                        <div class="strategy-icon">4ï¸âƒ£</div>
                        <div class="strategy-text">
                            <strong>ä¼˜å…ˆçº§æ’åº</strong>
                            <span>æ ‡ç­¾ > ä½ç½® > é¢ç§¯</span>
                        </div>
                    </div>

                    <div class="strategy-item">
                        <div class="strategy-icon">5ï¸âƒ£</div>
                        <div class="strategy-text">
                            <strong>å®æ—¶ç›‘å¬</strong>
                            <span>çŠ¶æ€æ£€æµ‹ + è‡ªåŠ¨åˆ·æ–°</span>
                        </div>
                    </div>
                </div>
            </div>

            <!-- å¹³å°è¦†ç›– -->
            <div class="card">
                <h2><span class="card-icon">ğŸŒ</span> å¹³å°è¦†ç›–ç‡</h2>
                
                <div class="progress-item">
                    <div class="progress-label">
                        <span><span class="badge platform">æ™ºå­¦ç½‘</span> é€‰æ‹©å™¨: 18ä¸ª</span>
                        <span style="color: #22c55e; font-weight: 600;">98%</span>
                    </div>
                    <div class="progress-bar">
                        <div class="progress-fill" style="width: 98%;"></div>
                    </div>
                </div>

                <div class="progress-item">
                    <div class="progress-label">
                        <span><span class="badge platform">å¥½åˆ†æ•°</span> é€‰æ‹©å™¨: 15ä¸ª</span>
                        <span style="color: #f59e0b; font-weight: 600;">92%</span>
                    </div>
                    <div class="progress-bar">
                        <div class="progress-fill" style="width: 92%;"></div>
                    </div>
                </div>

                <div class="progress-item">
                    <div class="progress-label">
                        <span><span class="badge platform">é€šç”¨</span> é€‰æ‹©å™¨: 25ä¸ª</span>
                        <span style="color: #3b82f6; font-weight: 600;">80%</span>
                    </div>
                    <div class="progress-bar">
                        <div class="progress-fill" style="width: 80%;"></div>
                    </div>
                </div>
            </div>

            <!-- å¸¸è§é—®é¢˜æ’æŸ¥ -->
            <div class="card">
                <h2><span class="card-icon">â“</span> å¤±è´¥åŸå› åˆ†æ</h2>
                
                <div style="font-size: 12px; color: #666; line-height: 1.6;">
                    <div style="margin-bottom: 8px;">
                        <strong style="color: #333;">è·¨åŸŸiframe</strong><br>
                        æ¦‚ç‡: 5% | è‡ªåŠ¨é™çº§åˆ°ä¸»æ–‡æ¡£
                    </div>
                    <div style="margin-bottom: 8px;">
                        <strong style="color: #333;">åŠ¨æ€åŠ è½½å»¶è¿Ÿ</strong><br>
                        æ¦‚ç‡: 2% | å¯ç”¨çŠ¶æ€ç›‘å¬ (500ms)
                    </div>
                    <div style="margin-bottom: 8px;">
                        <strong style="color: #333;">CSSéšè—</strong><br>
                        æ¦‚ç‡: 1% | evaluateCandidateè¿‡æ»¤
                    </div>
                    <div style="margin-bottom: 8px;">
                        <strong style="color: #333;">ç‰¹æ®Šæ ¼å¼</strong><br>
                        æ¦‚ç‡: 1% | WebP/SVGè¯†åˆ«
                    </div>
                </div>
            </div>

            <!-- å®æ—¶Console -->
            <div class="card full-width">
                <h2><span class="card-icon">ğŸ“</span> å®æ—¶æ£€æµ‹æ—¥å¿—</h2>
                
                <div class="console-box" id="console">
                    <div class="console-line success">âœ… ç³»ç»Ÿåˆå§‹åŒ–å®Œæˆ</div>
                    <div class="console-line info">ğŸ“‹ å°è¯• 58 ä¸ªé€‰æ‹©å™¨</div>
                    <div class="console-line info">ğŸ” æ£€æµ‹åˆ° 2 ä¸ª iframe</div>
                    <div class="console-line success">âœ… iframe[0] å¯è®¿é—®</div>
                    <div class="console-line success">âœ… æ•è· 3 ä¸ªå€™é€‰å›¾ç‰‡å…ƒç´ </div>
                    <div class="console-line warning">âš ï¸  è¿‡æ»¤å°å›¾ç‰‡: IMG 120x240</div>
                    <div class="console-line success">âœ… æœ€ç»ˆé€‰æ‹©: IMG 1200x1600 (area=1920000)</div>
                    <div class="console-line success">âœ… é«˜äº®æ˜¾ç¤º: ç­”é¢˜å¡ (IMG)</div>
                </div>

                <div class="control-buttons">
                    <button class="btn-primary" onclick="testDetection()">
                        ğŸ”„ è¿è¡Œæ£€æµ‹
                    </button>
                    <button class="btn-secondary" onclick="clearConsole()">
                        ğŸ—‘ï¸ æ¸…ç©ºæ—¥å¿—
                    </button>
                </div>
            </div>
        </div>

        <!-- ä½¿ç”¨æŒ‡å— -->
        <div class="howto-section">
            <h3>ğŸ“– å¦‚ä½•éªŒè¯ç­”é¢˜å¡å®šä½å‡†ç¡®æ€§</h3>

            <div class="step">
                <div style="display: flex; align-items: flex-start;">
                    <div class="step-number">1</div>
                    <div style="flex: 1;">
                        <div class="step-title">æ‰“å¼€é˜…å·é¡µé¢</div>
                        <div class="step-desc">
                            åœ¨Chromeä¸­ç™»å½•æ™ºå­¦ç½‘æˆ–å¥½åˆ†æ•°ï¼Œè¿›å…¥é˜…å·ç•Œé¢
                        </div>
                    </div>
                </div>
            </div>

            <div class="step">
                <div style="display: flex; align-items: flex-start;">
                    <div class="step-number">2</div>
                    <div style="flex: 1;">
                        <div class="step-title">æ‰“å¼€å¼€å‘è€…å·¥å…·</div>
                        <div class="step-desc">
                            æŒ‰ <strong>F12</strong> æˆ–å³é”® â†’ æ£€æŸ¥ (Inspect)
                        </div>
                        <div class="code-block">F12 æˆ– Ctrl+Shift+I (Windows) / Cmd+Option+I (Mac)</div>
                    </div>
                </div>
            </div>

            <div class="step">
                <div style="display: flex; align-items: flex-start;">
                    <div class="step-number">3</div>
                    <div style="flex: 1;">
                        <div class="step-title">æŸ¥çœ‹Consoleæ—¥å¿—</div>
                        <div class="step-desc">
                            åˆ‡æ¢åˆ° Console æ ‡ç­¾ï¼ŒæŸ¥æ‰¾ä»¥ä¸‹å…³é”®ä¿¡æ¯
                        </div>
                        <div class="code-block">[AIé˜…å·] ç­”é¢˜å¡å·²åŠ è½½<br>[AIé˜…å·] æœ€ç»ˆé€‰æ‹©çš„ç­”é¢˜å¡: IMG 1200x1600</div>
                    </div>
                </div>
            </div>

            <div class="step">
                <div style="display: flex; align-items: flex-start;">
                    <div class="step-number">4</div>
                    <div style="flex: 1;">
                        <div class="step-title">æ£€æŸ¥é«˜äº®æ˜¾ç¤º</div>
                        <div class="step-desc">
                            é¡µé¢ä¸­ç­”é¢˜å¡åº”è¯¥è¢«å¸¦æœ‰å½©è‰²è¾¹æ¡†å’Œæ ‡ç­¾çš„æ¡†çº¿å›´ä½
                        </div>
                        <div style="margin-left: 40px; margin-top: 8px;">
                            <span style="display: inline-block; padding: 4px 8px; background: #dcfce7; border-left: 4px solid #22c55e; border-radius: 2px; font-size: 12px; color: #166534;">ğŸŸ¢ ç»¿è‰²è¾¹æ¡† = ç­”é¢˜å¡å·²æ­£ç¡®å®šä½</span>
                        </div>
                    </div>
                </div>
            </div>

            <div class="step">
                <div style="display: flex; align-items: flex-start;">
                    <div class="step-number">5</div>
                    <div style="flex: 1;">
                        <div class="step-title">è¿è¡Œæ£€æµ‹å‘½ä»¤</div>
                        <div class="step-desc">
                            åœ¨Consoleä¸­æ‰‹åŠ¨è¿è¡Œä»¥ä¸‹å‘½ä»¤éªŒè¯
                        </div>
                        <div class="code-block">const results = findAnswerImageAcrossContexts('ZHIXUE');<br>console.log(`æ‰¾åˆ° ${results.length} ä¸ªå€™é€‰`);</div>
                    </div>
                </div>
            </div>

            <div class="step">
                <div style="display: flex; align-items: flex-start;">
                    <div class="step-number">6</div>
                    <div style="flex: 1;">
                        <div class="step-title">è®°å½•ç»“æœ</div>
                        <div class="step-desc">
                            è®°ä¸‹è¾“å‡ºç»“æœï¼Œä½œä¸ºè¯Šæ–­çš„å‚è€ƒæ•°æ®
                        </div>
                        <div style="margin-left: 40px; margin-top: 8px; padding: 8px; background: #f9f9f9; border-radius: 4px; border-left: 3px solid #667eea;">
                            <strong style="font-size: 12px; color: #333;">æœŸæœ›è¾“å‡º:</strong>
                            <div style="font-family: monospace; font-size: 11px; color: #666; margin-top: 4px;">
                                æ‰¾åˆ° 3 ä¸ªå€™é€‰<br>
                                æœ€ä¼˜å€™é€‰: IMG 1200x1600 (area=1920000)
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script>
        function testDetection() {
            const lines = [
                { text: 'ğŸ”„ å¼€å§‹è¿è¡Œæ£€æµ‹...', type: 'info' },
                { text: 'ğŸ“‹ æ‰«æä¸»æ–‡æ¡£...', type: 'info' },
                { text: 'âœ… æ•è· 5 ä¸ªå€™é€‰å›¾ç‰‡', type: 'success' },
                { text: 'ğŸ” æ£€æµ‹åˆ° 2 ä¸ª iframe', type: 'info' },
                { text: 'âœ… iframe[0] æ£€æµ‹å®Œæˆ', type: 'success' },
                { text: 'âš ï¸  iframe[1] è·¨åŸŸé™åˆ¶ (è·³è¿‡)', type: 'warning' },
                { text: 'ğŸ”„ æ’åºå€™é€‰ (æŒ‰ä¼˜å…ˆçº§)...', type: 'info' },
                { text: 'â­ï¸  tagä¼˜å…ˆçº§: yunxiao > IMG > CANVAS > DIV', type: 'info' },
                { text: 'â­ï¸  é¢ç§¯æ’åº: 1920000 > 960000 > 640000', type: 'info' },
                { text: 'âœ… æœ€ä¼˜å€™é€‰: IMG 1200x1600 (yunxiao.com)', type: 'success' },
                { text: 'âœ… ç­”é¢˜å¡å®šä½å®Œæˆ (è€—æ—¶ 145ms)', type: 'success' },
                { text: 'ğŸ“ å‡†ç¡®ç‡: 95% | å¹³å°: æ™ºå­¦ç½‘ | çŠ¶æ€: å°±ç»ª', type: 'success' }
            ];

            appendConsoleLogs(lines);
        }

        function clearConsole() {
            const consoleBox = document.getElementById('console');
            consoleBox.innerHTML = '';
            appendConsoleLogs([
                { text: 'âœ… æ—¥å¿—å·²æ¸…ç©º', type: 'success' }
            ]);
        }

        function appendConsoleLogs(logs) {
            const consoleBox = document.getElementById('console');
            logs.forEach(log => {
                const div = document.createElement('div');
                div.className = `console-line ${log.type}`;
                div.textContent = log.text;
                consoleBox.appendChild(div);
            });
            consoleBox.scrollTop = consoleBox.scrollHeight;
        }

        // é¡µé¢åŠ è½½æ—¶åˆå§‹åŒ–
        document.addEventListener('DOMContentLoaded', () => {
            console.log('âœ… ç­”é¢˜å¡å®šä½æµ‹è¯•å·¥å…·å·²åŠ è½½');
        });
    </script>
</body>
</html>
