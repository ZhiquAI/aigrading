<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AI 智能阅卷助手 - 主界面设计</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
    <style>
        body { font-family: 'Inter', sans-serif; }
        .tab-active { color: #2563eb; border-bottom: 2px solid #2563eb; }
        .tab-inactive { color: #6b7280; border-bottom: 2px solid transparent; }
        /* 抽屉动画 */
        .drawer-enter { transform: translateX(100%); }
        .drawer-active { transform: translateX(0); }
        .drawer-transition { transition: transform 0.3s cubic-bezier(0.4, 0, 0.2, 1); }
    </style>
</head>
<body class="bg-gray-50 text-gray-900 antialiased h-screen flex flex-col max-w-[450px] mx-auto bg-white shadow-2xl relative overflow-hidden">

    <!-- ==================== 1. 顶部 Header (Tabs + Status) ==================== -->
    <header class="bg-white shrink-0 z-20">
        <!-- Top Bar -->
        <div class="flex items-center justify-between px-4 py-3 border-b border-gray-100">
            <div class="flex items-center gap-2">
                <div class="w-6 h-6 bg-blue-600 rounded-lg flex items-center justify-center text-white text-xs font-bold">AI</div>
                <h1 class="text-sm font-bold text-gray-800">智能阅卷助手</h1>
            </div>
            <div class="flex items-center gap-3">
                <div class="flex flex-col items-end">
                    <span class="text-xs font-bold text-gray-800">295 <span class="text-gray-400 font-normal">/ 300</span></span>
                </div>
                <button class="w-8 h-8 bg-blue-50 text-blue-600 rounded-full flex items-center justify-center hover:bg-blue-100 transition-colors">
                    <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><line x1="12" y1="5" x2="12" y2="19"/><line x1="5" y1="12" x2="19" y2="12"/></svg>
                </button>
            </div>
        </div>

        <!-- Tabs -->
        <div class="flex items-center px-2">
            <button class="flex-1 py-3 text-sm font-bold tab-active">批改</button>
            <button class="flex-1 py-3 text-sm font-medium tab-inactive hover:text-gray-800">记录</button>
            <button class="flex-1 py-3 text-sm font-medium tab-inactive hover:text-gray-800">分析</button>
        </div>
    </header>

    <!-- ==================== 2. 主内容区 (Main Content) ==================== -->
    <main class="flex-1 relative bg-gray-50/50">
        
        <!-- 悬浮题目选择器 (Floating Question Selector) -->
        <div class="absolute top-4 left-4 right-4 flex justify-between items-center z-10">
            <div class="px-3 py-1.5 bg-white/90 backdrop-blur border border-gray-200 rounded-full shadow-sm flex items-center gap-2">
                <span class="w-2 h-2 bg-yellow-400 rounded-full animate-pulse"></span>
                <span class="text-xs font-bold text-gray-600">待配置</span>
            </div>

            <!-- 核心交互点：题目下拉菜单 -->
            <div class="relative group">
                <button onclick="toggleDropdown()" class="px-4 py-1.5 bg-white border border-gray-200 rounded-full shadow-sm flex items-center gap-2 hover:border-blue-300 transition-colors">
                    <span class="text-xs font-bold text-gray-800">第 18-1 题</span>
                    <svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" class="text-gray-400"><path d="M6 9l6 6 6-6"/></svg>
                </button>
                
                <!-- 下拉菜单内容 -->
                <div id="question-dropdown" class="hidden absolute right-0 top-full mt-2 w-48 bg-white border border-gray-100 rounded-xl shadow-xl p-1.5 z-50 transform origin-top-right transition-all">
                    <div class="px-2 py-1.5 text-[10px] font-bold text-gray-400 uppercase">切换题目</div>
                    <button class="w-full text-left px-3 py-2 text-xs font-medium text-blue-600 bg-blue-50 rounded-lg mb-1 flex justify-between">
                        <span>18-1 (4分)</span> <span class="text-blue-400">✓</span>
                    </button>
                    <button class="w-full text-left px-3 py-2 text-xs font-medium text-gray-600 hover:bg-gray-50 rounded-lg">18-2 (6分)</button>
                    <button class="w-full text-left px-3 py-2 text-xs font-medium text-gray-600 hover:bg-gray-50 rounded-lg">19 (12分)</button>
                    
                    <div class="h-px bg-gray-100 my-1"></div>
                    
                    <!-- 核心入口：配置细则 -->
                    <button onclick="openDrawer()" class="w-full text-left px-3 py-2 text-xs font-bold text-gray-700 hover:bg-purple-50 hover:text-purple-700 rounded-lg flex items-center gap-2 transition-colors">
                        <svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"/><path d="M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z"/></svg>
                        配置此题细则
                    </button>
                     <button class="w-full text-left px-3 py-2 text-xs font-medium text-gray-500 hover:bg-gray-50 rounded-lg flex items-center gap-2">
                        <svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><rect x="3" y="3" width="18" height="18" rx="2" ry="2"/><line x1="3" y1="9" x2="21" y2="9"/><line x1="9" y1="21" x2="9" y2="9"/></svg>
                        管理细则库
                    </button>
                </div>
            </div>
        </div>

        <!-- 空状态引导 (Empty State) -->
        <div class="flex flex-col items-center justify-center h-full pb-20">
            <div class="w-20 h-20 bg-orange-50 rounded-full flex items-center justify-center mb-6 border-4 border-orange-100 animate-pulse">
                <span class="text-3xl text-orange-500 font-bold">!</span>
            </div>
            
            <h2 class="text-lg font-bold text-gray-800 mb-6 flex items-center gap-2">
                请完成配置 
                <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" class="text-gray-400"><path d="M21 12v7a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11"/></svg>
            </h2>

            <div class="w-64 bg-white rounded-2xl border border-gray-100 shadow-lg p-2 space-y-2">
                <!-- Step 1: API (Done) -->
                <div class="flex items-center gap-3 p-3 bg-green-50/50 rounded-xl border border-green-100">
                    <div class="w-8 h-8 bg-green-500 rounded-full flex items-center justify-center text-white shadow-sm">
                        <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="3"><polyline points="20 6 9 17 4 12"/></svg>
                    </div>
                    <div>
                        <div class="text-xs font-bold text-green-800">API 连接</div>
                        <div class="text-[10px] text-green-600">已连接 (Gemini Flash)</div>
                    </div>
                </div>

                <!-- Step 2: 答题卡 (Warning) -->
                <div class="flex items-center gap-3 p-3 bg-orange-50/50 rounded-xl border border-orange-100">
                    <div class="w-8 h-8 bg-orange-400 rounded-full flex items-center justify-center text-white shadow-sm font-bold">!</div>
                    <div>
                        <div class="text-xs font-bold text-orange-800">答题卡定位</div>
                        <div class="text-[10px] text-orange-600">请打开阅卷页面</div>
                    </div>
                </div>

                <!-- Step 3: 评分细则 (Action Required) -->
                <button onclick="openDrawer()" class="w-full flex items-center gap-3 p-3 bg-orange-50/50 rounded-xl border border-orange-100 hover:bg-orange-100 hover:border-orange-200 transition-colors group text-left">
                    <div class="w-8 h-8 bg-orange-400 rounded-full flex items-center justify-center text-white shadow-sm font-bold group-hover:scale-110 transition-transform">!</div>
                    <div class="flex-1">
                        <div class="text-xs font-bold text-orange-800">评分细则</div>
                        <div class="text-[10px] text-orange-600">点击配置评分标准</div>
                    </div>
                    <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" class="text-orange-300 group-hover:text-orange-500"><polyline points="9 18 15 12 9 6"/></svg>
                </button>
            </div>
        </div>

    </main>

    <!-- ==================== 3. 底部操作栏 (Action Bar) ==================== -->
    <div class="bg-white border-t border-gray-100 p-4 pb-6 flex items-center gap-3 z-20">
        <button class="w-12 h-12 flex items-center justify-center bg-gray-50 text-purple-600 rounded-xl border border-gray-200 hover:bg-purple-50 hover:border-purple-200 transition-colors">
            <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16z"/><polyline points="3.27 6.96 12 12.01 20.73 6.96"/><line x1="12" y1="22.08" x2="12" y2="12"/></svg>
        </button>
        <button class="flex-1 h-12 bg-gray-200 text-gray-400 font-bold rounded-xl flex items-center justify-center gap-2 cursor-not-allowed">
            <svg width="20" height="20" viewBox="0 0 24 24" fill="currentColor"><path d="M5 3l14 9-14 9V3z"/></svg>
            开始辅助阅卷
        </button>
        <button class="w-12 h-12 flex items-center justify-center text-gray-400 hover:text-gray-600">
            <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><circle cx="12" cy="12" r="3"/><path d="M19.4 15a1.65 1.65 0 0 0 .33 1.82l.06.06a2 2 0 0 1 0 2.83 2 2 0 0 1-2.83 0l-.06-.06a1.65 1.65 0 0 0-1.82-.33 1.65 1.65 0 0 0-1 1.51V21a2 2 0 0 1-2 2 2 2 0 0 1-2-2v-.09A1.65 1.65 0 0 0 9 19.4a1.65 1.65 0 0 0-1.82.33l-.06.06a2 2 0 0 1-2.83 0 2 2 0 0 1 0-2.83l.06-.06a1.65 1.65 0 0 0 .33-1.82 1.65 1.65 0 0 0-1.51-1H3a2 2 0 0 1-2-2 2 2 0 0 1 2-2h.09A1.65 1.65 0 0 0 4.6 9a1.65 1.65 0 0 0-.33-1.82l-.06-.06a2 2 0 0 1 0-2.83 2 2 0 0 1 2.83 0l.06.06a1.65 1.65 0 0 0 1.82.33H9a1.65 1.65 0 0 0 1-1.51V3a2 2 0 0 1 2-2 2 2 0 0 1 2 2v.09a1.65 1.65 0 0 0 1 1.51 1.65 1.65 0 0 0 1.82-.33l.06-.06a2 2 0 0 1 2.83 0 2 2 0 0 1 0 2.83l-.06.06a1.65 1.65 0 0 0-.33 1.82V9a1.65 1.65 0 0 0 1.51 1H21a2 2 0 0 1 2 2 2 2 0 0 1-2 2h-.09a1.65 1.65 0 0 0-1.51 1z"/></svg>
        </button>
    </div>

    <!-- ==================== 4. 侧滑抽屉：细则编辑器 (Right Drawer) ==================== -->
    <div id="rubric-drawer" class="absolute inset-y-0 right-0 w-full bg-white shadow-2xl z-50 drawer-transition drawer-enter flex flex-col">
        <!-- Drawer Header -->
        <div class="h-14 flex items-center justify-between px-4 border-b border-gray-100 bg-white z-10">
            <div class="flex items-center gap-2">
                <button onclick="closeDrawer()" class="p-2 -ml-2 hover:bg-gray-100 rounded-full text-gray-500">
                    <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><polyline points="15 18 9 12 15 6"/></svg>
                </button>
                <div class="flex flex-col">
                    <span class="text-xs font-bold text-gray-800">配置评分细则</span>
                    <span class="text-[10px] text-gray-400">当前：第 18-1 题</span>
                </div>
            </div>
            <button class="text-blue-600 text-xs font-bold px-3 py-1 bg-blue-50 rounded-lg hover:bg-blue-100">保存</button>
        </div>

        <!-- Drawer Content (Simplified Editor) -->
        <div class="flex-1 overflow-y-auto bg-gray-50 p-4 space-y-4">
            <!-- 上传区 -->
            <div class="border-2 border-dashed border-gray-300 rounded-xl p-6 flex flex-col items-center justify-center text-gray-400 bg-white hover:border-blue-400 hover:text-blue-500 transition-colors cursor-pointer">
                <svg width="32" height="32" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5" class="mb-2"><rect x="3" y="3" width="18" height="18" rx="2" ry="2"/><circle cx="8.5" cy="8.5" r="1.5"/><polyline points="21 15 16 10 5 21"/></svg>
                <span class="text-xs font-bold">上传试题/答案图片</span>
                <span class="text-[10px] mt-1 opacity-70">AI 自动生成细则</span>
            </div>

            <div class="flex items-center gap-2">
                <div class="h-px bg-gray-200 flex-1"></div>
                <span class="text-[10px] text-gray-400 font-medium">或手动编辑</span>
                <div class="h-px bg-gray-200 flex-1"></div>
            </div>

            <!-- 简易表单 -->
            <div class="bg-white rounded-xl border border-gray-200 p-4 space-y-4">
                <div>
                    <label class="block text-xs font-bold text-gray-700 mb-1.5">题目总分</label>
                    <input type="number" value="4" class="w-full px-3 py-2 text-sm border border-gray-200 rounded-lg bg-gray-50">
                </div>
                 <div>
                    <label class="block text-xs font-bold text-gray-700 mb-1.5">关键词 (逗号分隔)</label>
                    <textarea rows="3" class="w-full px-3 py-2 text-sm border border-gray-200 rounded-lg bg-gray-50">瓦特, 蒸汽机, 工业革命, 工厂制度</textarea>
                </div>
            </div>
        </div>
    </div>

    <!-- Backdrop for Drawer -->
    <div id="drawer-backdrop" onclick="closeDrawer()" class="hidden absolute inset-0 bg-black/20 z-40 transition-opacity opacity-0"></div>

    <script>
        function toggleDropdown() {
            const el = document.getElementById('question-dropdown');
            el.classList.toggle('hidden');
        }

        function openDrawer() {
            const drawer = document.getElementById('rubric-drawer');
            const backdrop = document.getElementById('drawer-backdrop');
            
            // Hide dropdown if open
            document.getElementById('question-dropdown').classList.add('hidden');

            backdrop.classList.remove('hidden');
            // Small delay to allow display:block to apply before opacity transition
            setTimeout(() => backdrop.classList.remove('opacity-0'), 10);
            
            drawer.classList.remove('drawer-enter');
            drawer.classList.add('drawer-active');
        }

        function closeDrawer() {
            const drawer = document.getElementById('rubric-drawer');
            const backdrop = document.getElementById('drawer-backdrop');
            
            drawer.classList.remove('drawer-active');
            drawer.classList.add('drawer-enter');
            
            backdrop.classList.add('opacity-0');
            setTimeout(() => backdrop.classList.add('hidden'), 300);
        }
    </script>
</body>
</html>